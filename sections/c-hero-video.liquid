{% render 'entry' with '@/scripts/sections/c-hero-video.js' %}
{% render 'entry' with '@/styles/sections/c-hero-video.scss' %}

<div class="custom-hero-video relative w-full overflow-hidden" data-hero-video>
  <div class="custom-hero-video__container relative w-full h-screen">
    <video 
      class="custom-hero-video__video absolute inset-0 w-full h-full object-cover"
      autoplay 
      loop 
      muted 
      playsinline
      data-hero-video-player
    >
      {% if section.settings.video %}
        <source src="{{ section.settings.video | file_url }}" type="video/mp4">
      {% else %}
        <source src="{{ 'c-hero-video.mp4' | asset_url }}" type="video/mp4">
      {% endif %}
    </video>
    
    <div class="custom-hero-video__content absolute pt-[480px] md:pt-[380px] inset-0 flex flex-col justify-center items-start px-4 md:px-16 bg-gradient-to-r from-black/40 to-transparent z-10">
      {% if section.settings.heading != blank %}
        <h2 class="custom-hero-video__heading text-3xl text-left md:text-5xl font-extralight md:mb-8 drop-shadow-lg text-yellow"
            {% if section.settings.heading_color != '#FFF9BE' %}
              style="color: {{ section.settings.heading_color }};"
            {% endif %}>
          {{ section.settings.heading }}
        </h2>
      {% endif %}
      
      {% if section.settings.button_label != blank %}
        <a href="{{ section.settings.button_link | default: '#' }}" 
           class="custom-hero-video__button px-10 py-5 md:px-30 md:py-10 mt-16 rounded-full md:text-xl font-semibold bg-yellow text-core transition-opacity hover:opacity-80"
           {% if section.settings.button_color != '#FFF9BE' %}
             style="background-color: {{ section.settings.button_color }};"
           {% endif %}>
          {{ section.settings.button_label }}
        </a>
      {% endif %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Custom Hero Video",
  "settings": [
    {
      "type": "video",
      "id": "video",
      "label": "Background Video",
      "info": "Default video"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Non-toxic, ultra soft diapers just caught a vibe"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#FFFD7B"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "SHOP NOW"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button Color",
      "default": "#FFF9BE"
    }
  ],
  "presets": [
    {
      "name": "Custom Hero Video",
    }
  ]
}
{% endschema %}
